<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="data-base-url" content="">
  <title>Food Access Explorer</title>
  <link rel="stylesheet" href="static/app.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
</head>
<body>
  <div id="controls">
    <details class="control-section" open>
      <summary class="section-title">Location</summary>
      <select id="metroSelect" title="Choose a metro area to view"></select>
    </details>
    <details class="control-section" open>
      <summary class="section-title">Layer</summary>
      <select id="geoSelect" title="Choose the geography layer (zip, tract, grid)"></select>
      <select id="modeSelect" title="Choose walking or walk+transit access"></select>
      <select id="timeModeSelect" title="Fixed minutes vs minimum time"></select>
      <select id="timeSelect" title="Select the time threshold (minutes)"></select>
    </details>
    <details class="control-section" open>
      <summary class="section-title">Metrics</summary>
      <select id="metricSelect" title="Choose the metric used for color"></select>
      <label class="control-group" title="Scale fill opacity by another metric">
        Opacity metric
        <select id="opacityMetricSelect"></select>
      </label>
      <label class="control-group" title="Maximum fill opacity for the layer">
        Colors opacity
        <input id="fillOpacity" type="range" min="0" max="1" step="0.05" value="1">
      </label>
      <label class="control-group" title="Outline opacity for grid boundaries">
        Grid outline opacity
        <input id="strokeOpacity" type="range" min="0" max="1" step="0.05" value="0">
      </label>
      <label class="control-group" title="Place optimized food bank stars at metro grid centroids">
        Food banks
        <div class="foodbank-controls">
          <button id="foodBankMinus" type="button" aria-label="Decrease food banks">âˆ’</button>
          <span id="foodBankValue">0</span>
          <button id="foodBankPlus" type="button" aria-label="Increase food banks">+</button>
        </div>
      </label>
    </details>
    <details class="control-section">
      <summary class="section-title">Colors</summary>
      <label class="control-group" title="Color used for the low end of the scale">
        Low color
        <input id="colorLow" type="color" value="#b10026">
        <span id="colorLowValue"></span>
        <input id="stopLow" type="range" min="0" max="100" step="1" value="0">
      </label>
      <label class="control-group" title="Color used for the midpoint of the scale">
        Median color
        <input id="colorMid" type="color" value="#ffffbf">
        <span id="colorMidValue"></span>
        <input id="stopMid" type="range" min="0" max="100" step="1" value="50">
      </label>
      <label class="control-group" title="Color used for the high end of the scale">
        High color
        <input id="colorHigh" type="color" value="#006837">
        <span id="colorHighValue"></span>
        <input id="stopHigh" type="range" min="0" max="100" step="1" value="100">
      </label>
    </details>
    <details class="control-section">
      <summary class="section-title">Overlays</summary>
      <label class="control-group" title="Toggle grocery store points">
        Show groceries
        <input id="groceryToggle" type="checkbox">
      </label>
      <label class="control-group" title="Toggle rail stations">
        Show stations
        <input id="stationToggle" type="checkbox">
      </label>
      <label class="control-group" title="Toggle bus stops">
        Show bus stops
        <input id="busToggle" type="checkbox">
      </label>
    </details>
    <details class="control-section">
      <summary class="section-title">Export</summary>
      <button id="downloadBtn" title="Download summary CSV for the current metro">Download CSV</button>
    </details>
  </div>
  <div id="map-wrap">
    <div id="map"></div>
    <svg id="metricDistX" class="axis-hist axis-hist-x" viewBox="0 0 300 70" role="img" aria-label="Feature density along x axis"></svg>
    <svg id="metricDistY" class="axis-hist axis-hist-y" viewBox="0 0 70 300" role="img" aria-label="Feature density along y axis"></svg>
  </div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="static/app.js"></script>
</body>
</html>
